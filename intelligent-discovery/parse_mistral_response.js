#!/usr/bin/env node

/**
 * Parse Mistral models from curl response and add to CSV
 */

import fs from 'fs';

const mistralResponse = `{"object":"list","data":[{"id":"mistral-medium-2505","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-medium-2505","description":"Official mistral-medium-2505 Mistral AI model","max_context_length":131072,"aliases":["mistral-medium-latest","mistral-medium"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-medium-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-medium-2505","description":"Official mistral-medium-2505 Mistral AI model","max_context_length":131072,"aliases":["mistral-medium-2505","mistral-medium"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-medium","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-medium-2505","description":"Official mistral-medium-2505 Mistral AI model","max_context_length":131072,"aliases":["mistral-medium-2505","mistral-medium-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"ministral-3b-2410","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"ministral-3b-2410","description":"Official ministral-3b-2410 Mistral AI model","max_context_length":131072,"aliases":["ministral-3b-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"ministral-3b-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"ministral-3b-2410","description":"Official ministral-3b-2410 Mistral AI model","max_context_length":131072,"aliases":["ministral-3b-2410"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"ministral-8b-2410","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"ministral-8b-2410","description":"Official ministral-8b-2410 Mistral AI model","max_context_length":131072,"aliases":["ministral-8b-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"ministral-8b-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"ministral-8b-2410","description":"Official ministral-8b-2410 Mistral AI model","max_context_length":131072,"aliases":["ministral-8b-2410"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"open-mistral-7b","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mistral-7b","description":"Official open-mistral-7b Mistral AI model","max_context_length":32768,"aliases":["mistral-tiny","mistral-tiny-2312"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-tiny","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mistral-7b","description":"Official open-mistral-7b Mistral AI model","max_context_length":32768,"aliases":["open-mistral-7b","mistral-tiny-2312"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-tiny-2312","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mistral-7b","description":"Official open-mistral-7b Mistral AI model","max_context_length":32768,"aliases":["open-mistral-7b","mistral-tiny"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"open-mistral-nemo","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"open-mistral-nemo","description":"Official open-mistral-nemo Mistral AI model","max_context_length":131072,"aliases":["open-mistral-nemo-2407","mistral-tiny-2407","mistral-tiny-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"open-mistral-nemo-2407","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"open-mistral-nemo","description":"Official open-mistral-nemo Mistral AI model","max_context_length":131072,"aliases":["open-mistral-nemo","mistral-tiny-2407","mistral-tiny-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-tiny-2407","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"open-mistral-nemo","description":"Official open-mistral-nemo Mistral AI model","max_context_length":131072,"aliases":["open-mistral-nemo","open-mistral-nemo-2407","mistral-tiny-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-tiny-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"open-mistral-nemo","description":"Official open-mistral-nemo Mistral AI model","max_context_length":131072,"aliases":["open-mistral-nemo","open-mistral-nemo-2407","mistral-tiny-2407"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"open-mixtral-8x7b","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mixtral-8x7b","description":"Official open-mixtral-8x7b Mistral AI model","max_context_length":32768,"aliases":["mistral-small","mistral-small-2312"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-small","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mixtral-8x7b","description":"Official open-mixtral-8x7b Mistral AI model","max_context_length":32768,"aliases":["open-mixtral-8x7b","mistral-small-2312"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-small-2312","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mixtral-8x7b","description":"Official open-mixtral-8x7b Mistral AI model","max_context_length":32768,"aliases":["open-mixtral-8x7b","mistral-small"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"open-mixtral-8x22b","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mixtral-8x22b","description":"Official open-mixtral-8x22b Mistral AI model","max_context_length":65536,"aliases":["open-mixtral-8x22b-2404"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"open-mixtral-8x22b-2404","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"open-mixtral-8x22b","description":"Official open-mixtral-8x22b Mistral AI model","max_context_length":65536,"aliases":["open-mixtral-8x22b"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-small-2409","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"mistral-small-2409","description":"Official mistral-small-2409 Mistral AI model","max_context_length":32768,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-large-2407","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"mistral-large-2407","description":"Official mistral-large-2407 Mistral AI model","max_context_length":131072,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-large-2411","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"mistral-large-2411","description":"Official mistral-large-2411 Mistral AI model","max_context_length":131072,"aliases":["mistral-large-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-large-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":true,"vision":false,"classification":false},"name":"mistral-large-2411","description":"Official mistral-large-2411 Mistral AI model","max_context_length":131072,"aliases":["mistral-large-2411"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"pixtral-large-2411","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-large-2411","description":"Official pixtral-large-2411 Mistral AI model","max_context_length":131072,"aliases":["pixtral-large-latest","mistral-large-pixtral-2411"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"pixtral-large-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-large-2411","description":"Official pixtral-large-2411 Mistral AI model","max_context_length":131072,"aliases":["pixtral-large-2411","mistral-large-pixtral-2411"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"mistral-large-pixtral-2411","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-large-2411","description":"Official pixtral-large-2411 Mistral AI model","max_context_length":131072,"aliases":["pixtral-large-2411","pixtral-large-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"codestral-2501","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":true,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-2501","description":"Official codestral-2501 Mistral AI model","max_context_length":262144,"aliases":["codestral-2412","codestral-2411-rc5"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"codestral-2412","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":true,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-2501","description":"Official codestral-2501 Mistral AI model","max_context_length":262144,"aliases":["codestral-2501","codestral-2411-rc5"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"codestral-2411-rc5","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-2501","description":"Official codestral-2501 Mistral AI model","max_context_length":262144,"aliases":["codestral-2501","codestral-2412"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"codestral-2508","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":true,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-2508","description":"Official codestral-2508 Mistral AI model","max_context_length":256000,"aliases":["codestral-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"codestral-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":true,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-2508","description":"Official codestral-2508 Mistral AI model","max_context_length":256000,"aliases":["codestral-2508"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"devstral-small-2505","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"devstral-small-2505","description":"Official devstral-small-2505 Mistral AI model","max_context_length":131072,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.0,"type":"base"},{"id":"devstral-small-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"devstral-small-2507","description":"Official devstral-small-2507 Mistral AI model","max_context_length":131072,"aliases":["devstral-small-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.0,"type":"base"},{"id":"devstral-small-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"devstral-small-2507","description":"Official devstral-small-2507 Mistral AI model","max_context_length":131072,"aliases":["devstral-small-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.0,"type":"base"},{"id":"devstral-medium-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"devstral-medium-2507","description":"Official devstral-medium-2507 Mistral AI model","max_context_length":131072,"aliases":["devstral-medium-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.0,"type":"base"},{"id":"devstral-medium-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"devstral-medium-2507","description":"Official devstral-medium-2507 Mistral AI model","max_context_length":131072,"aliases":["devstral-medium-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.0,"type":"base"},{"id":"pixtral-12b-2409","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-12b-2409","description":"Official pixtral-12b-2409 Mistral AI model","max_context_length":131072,"aliases":["pixtral-12b","pixtral-12b-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"pixtral-12b","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-12b-2409","description":"Official pixtral-12b-2409 Mistral AI model","max_context_length":131072,"aliases":["pixtral-12b-2409","pixtral-12b-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"pixtral-12b-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"pixtral-12b-2409","description":"Official pixtral-12b-2409 Mistral AI model","max_context_length":131072,"aliases":["pixtral-12b-2409","pixtral-12b"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-small-2501","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"mistral-small-2501","description":"Official mistral-small-2501 Mistral AI model","max_context_length":32768,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-small-2503","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-small-2503","description":"Official mistral-small-2503 Mistral AI model","max_context_length":131072,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-small-2506","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-small-2506","description":"Official mistral-small-2506 Mistral AI model","max_context_length":131072,"aliases":["mistral-small-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-small-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":true,"classification":false},"name":"mistral-small-2506","description":"Official mistral-small-2506 Mistral AI model","max_context_length":131072,"aliases":["mistral-small-2506"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-saba-2502","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"mistral-saba-2502","description":"Official mistral-saba-2502 Mistral AI model","max_context_length":32768,"aliases":["mistral-saba-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"mistral-saba-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"mistral-saba-2502","description":"Official mistral-saba-2502 Mistral AI model","max_context_length":32768,"aliases":["mistral-saba-2502"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.3,"type":"base"},{"id":"magistral-medium-2506","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-medium-2506","description":"Official magistral-medium-2506 Mistral AI model","max_context_length":40960,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"magistral-medium-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-medium-2507","description":"Official magistral-medium-2507 Mistral AI model","max_context_length":40960,"aliases":["magistral-medium-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"magistral-medium-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-medium-2507","description":"Official magistral-medium-2507 Mistral AI model","max_context_length":40960,"aliases":["magistral-medium-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"magistral-small-2506","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-small-2506","description":"Official magistral-small-2506 Mistral AI model","max_context_length":40000,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"magistral-small-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-small-2507","description":"Official magistral-small-2507 Mistral AI model","max_context_length":40960,"aliases":["magistral-small-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"magistral-small-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"magistral-small-2507","description":"Official magistral-small-2507 Mistral AI model","max_context_length":40960,"aliases":["magistral-small-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":0.7,"type":"base"},{"id":"voxtral-mini-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"voxtral-mini-2507","description":"Official voxtral-mini-2507 Mistral AI model","max_context_length":32768,"aliases":["voxtral-mini-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"voxtral-mini-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"voxtral-mini-2507","description":"Official voxtral-mini-2507 Mistral AI model","max_context_length":32768,"aliases":["voxtral-mini-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"voxtral-small-2507","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"voxtral-small-2507","description":"Official voxtral-small-2507 Mistral AI model","max_context_length":32768,"aliases":["voxtral-small-latest"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"voxtral-small-latest","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":true,"completion_fim":false,"function_calling":true,"fine_tuning":false,"vision":false,"classification":false},"name":"voxtral-small-2507","description":"Official voxtral-small-2507 Mistral AI model","max_context_length":32768,"aliases":["voxtral-small-2507"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"mistral-embed","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":false,"completion_fim":false,"function_calling":false,"fine_tuning":false,"vision":false,"classification":false},"name":"mistral-embed","description":"Official mistral-embed Mistral AI model","max_context_length":32768,"aliases":[],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"codestral-embed","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":false,"completion_fim":false,"function_calling":false,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-embed","description":"Official codestral-embed Mistral AI model","max_context_length":32768,"aliases":["codestral-embed-2505"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"},{"id":"codestral-embed-2505","object":"model","created":1754017417,"owned_by":"mistralai","capabilities":{"completion_chat":false,"completion_fim":false,"function_calling":false,"function_calling":false,"fine_tuning":false,"vision":false,"classification":false},"name":"codestral-embed","description":"Official codestral-embed Mistral AI model","max_context_length":32768,"aliases":["codestral-embed"],"deprecation":null,"deprecation_replacement_model":null,"default_model_temperature":null,"type":"base"}]}`;

const data = JSON.parse(mistralResponse);

console.log('🌀 PARSING MISTRAL MODELS FROM CURL RESPONSE');
console.log('==============================================');

const mistralModels = data.data.map(model => ({
  provider: 'Mistral',
  model_id: model.id,
  model_name: model.name || model.id,
  description: model.description || '',
  context_length: model.max_context_length || '',
  capabilities: Object.entries(model.capabilities || {})
    .filter(([key, value]) => value === true)
    .map(([key]) => key)
    .join('; '),
  temperature: model.default_model_temperature !== null ? model.default_model_temperature : '',
  aliases: (model.aliases || []).join('; '),
  created: model.created ? new Date(model.created * 1000).toISOString() : '',
  owned_by: model.owned_by || '',
  type: model.type || '',
  deprecation: model.deprecation || '',
  object: model.object || ''
}));

console.log(`✅ Parsed ${mistralModels.length} Mistral models`);

const formatCSVRow = (model) => {
  const escape = (str) => {
    if (str === null || str === undefined) return '';
    return `"${String(str).replace(/"/g, '""')}"`;
  };

  return [
    escape(model.provider),
    escape(model.model_id),
    escape(model.model_name),
    escape(model.description),
    escape(model.context_length),
    escape(model.capabilities),
    escape(model.temperature),
    escape(model.aliases),
    escape(model.created),
    escape(model.owned_by),
    escape(model.type),
    escape(model.deprecation),
    escape(model.object)
  ].join(',');
};

// Update CSV file
const csvFile = './generated_outputs/api_models_all_providers_2025-08-01.csv';
let content = '';

if (fs.existsSync(csvFile)) {
  content = fs.readFileSync(csvFile, 'utf8');
  console.log('✅ Existing CSV file loaded');
}

// Add Mistral section
const mistralSection = [
  '\n=== SHEET: Mistral ===',
  'provider,model_id,model_name,description,context_length,capabilities,temperature,aliases,created,owned_by,type,deprecation,object'
];

mistralModels.forEach(model => {
  mistralSection.push(formatCSVRow(model));
});

const updatedContent = content + mistralSection.join('\n');

fs.writeFileSync(csvFile, updatedContent);
console.log(`💾 Updated CSV file: ${csvFile}`);
console.log(`✅ Added ${mistralModels.length} Mistral models to CSV`);

console.log('\n📊 MISTRAL MODELS SUMMARY');
console.log('========================');
console.log(`Total models: ${mistralModels.length}`);
console.log(`Chat models: ${mistralModels.filter(m => m.capabilities.includes('completion_chat')).length}`);
console.log(`Code models: ${mistralModels.filter(m => m.model_id.includes('codestral') || m.model_id.includes('devstral')).length}`);
console.log(`Vision models: ${mistralModels.filter(m => m.capabilities.includes('vision')).length}`);
console.log(`Embedding models: ${mistralModels.filter(m => m.model_id.includes('embed')).length}`);